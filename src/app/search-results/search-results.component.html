<app-header></app-header>
<div class="search-results-page" [@routerTransition]>
    <div class="card mb-3 main-card">
        <div class="card-header">Search Results</div>
        <div class="spinner" *ngIf="showSpinner">
            <app-loading></app-loading>
        </div>
        <div class="card-block mb-3" *ngIf="!showSpinner">
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th>Companies</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngIf="companies.length == 0">
                    <td>No results found.</td>
                </tr>
                <tr *ngFor="let company of companies">
                    <td>
                        <a [routerLink]="['/company-detail', company]">
                            <b>@{{company}}</b>
                        </a>
                        <button *ngIf="!(company_following.indexOf(company) > -1)" #elem id="co-followed" class="btn btn-primary" (click)="followClick(elem.id, company)">Follow</button>
                        <button *ngIf="(company_following.indexOf(company) > -1)" #elem id="co-not-followed" class="btn btn-primary" (click)="followClick(elem.id, company)">Followed <i class="fa fa-check"></i></button>
                    </td>
                </tr>
                </tbody>
            </table>
            <table class="table table-hover table-striped">
                <thead>
                <tr>
                    <th>Users</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngIf="users.length == 0">
                    <td>No results found.</td>
                </tr>
                <tr *ngFor="let user of users">
                    <td>
                        <a [routerLink]="['/user-detail', user]">
                            <b>@{{user}}</b>
                        </a>
                        <button *ngIf="!(user_following.indexOf(user) > -1)" #elem id="user-followed" class="btn btn-primary" (click)="followClick(elem.id, user)">Follow</button>
                        <button *ngIf="(user_following.indexOf(user) > -1)" #elem id="user-not-followed" class="btn btn-primary" (click)="followClick(elem.id, user)">Followed <i class="fa fa-check"></i></button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
